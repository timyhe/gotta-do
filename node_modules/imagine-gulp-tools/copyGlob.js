/// <reference path="imagine-gulp-tools.d.ts" />

let gulp = require("gulp");
let util = require("gulp-util");
let preprocess = require("gulp-preprocess");// does preprocessing of files

/** copies files & folders from a source glob to a destination  */
copyGlob = (options) => {
    let preprocessContext = options.preprocessContext ?
        { context: options.preprocessContext || {} } : false;

    return gulp.src(options.src)
        .pipe(preprocessContext ? preprocess(preprocessContext) : util.noop())
        .pipe(gulp.dest(options.dest));
}

module.exports = copyGlob;